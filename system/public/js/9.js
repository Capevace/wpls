(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{0:function(t,e){},1:function(t,e){},"1gSD":function(t,e,n){"use strict";function i(t){var e=t+1;return e<10?"0"+String(e):String(e)}var s=n("RIfl"),a=n.n(s);var o=function(){return a.a.generate({length:32,charset:"alphanumeric"})};function r(t){switch(t){case"info":return"is-primary";case"success":return"is-success";case"warning":return"is-warning";case"error":return"is-danger";case"default":default:return"is-white"}}var u=function(t,e){for(var n,i=e,s=t-2,a=t+2+1,o=[],r=[],u=1;u<=i;u++)(1==u||u==i||u>=s&&u<a)&&o.push(u);for(var c=0,l=o;c<l.length;c++){var f=l[c];n&&(f-n==2?r.push(n+1):f-n!=1&&r.push("...")),r.push(f),n=f}return r};var c=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";try{return e.replace("[",n).replace("]","").split(n).reduce(function(t,e){return t[e]},t)}catch(t){return}};n.d(e,"b",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"a",function(){return r}),n.d(e,"e",function(){return u}),n.d(e,"d",function(){return c})},2:function(t,e){},3:function(t,e){},"9/5/":function(t,e,n){(function(e){var n="Expected a function",i=NaN,s="[object Symbol]",a=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt,l="object"==typeof e&&e&&e.Object===Object&&e,f="object"==typeof self&&self&&self.Object===Object&&self,v=l||f||Function("return this")(),d=Object.prototype.toString,p=Math.max,m=Math.min,h=function(){return v.Date.now()};function g(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function _(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&d.call(t)==s}(t))return i;if(g(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=g(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var n=r.test(t);return n||u.test(t)?c(t.slice(2),n?2:8):o.test(t)?i:+t}t.exports=function(t,e,i){var s,a,o,r,u,c,l=0,f=!1,v=!1,d=!0;if("function"!=typeof t)throw new TypeError(n);function b(e){var n=s,i=a;return s=a=void 0,l=e,r=t.apply(i,n)}function w(t){var n=t-c;return void 0===c||n>=e||n<0||v&&t-l>=o}function y(){var t=h();if(w(t))return C(t);u=setTimeout(y,function(t){var n=e-(t-c);return v?m(n,o-(t-l)):n}(t))}function C(t){return u=void 0,d&&s?b(t):(s=a=void 0,r)}function k(){var t=h(),n=w(t);if(s=arguments,a=this,c=t,n){if(void 0===u)return function(t){return l=t,u=setTimeout(y,e),f?b(t):r}(c);if(v)return u=setTimeout(y,e),b(c)}return void 0===u&&(u=setTimeout(y,e)),r}return e=_(e)||0,g(i)&&(f=!!i.leading,o=(v="maxWait"in i)?p(_(i.maxWait)||0,e):o,d="trailing"in i?!!i.trailing:d),k.cancel=function(){void 0!==u&&clearTimeout(u),l=0,s=c=a=u=void 0},k.flush=function(){return void 0===u?r:C(h())},k}}).call(this,n("yLpj"))},N7BD:function(t,e,n){"use strict";n.r(e);var i=n("DlQD"),s=n.n(i),a=n("9/5/"),o={props:["value","required","forAnnouncements","announcementType"],data:function(){return{content:"",markdownHtml:""}},watch:{content:n.n(a)()(function(){this.markdownHtml=s()(this.content),this.$emit("input",this.content)},10)}},r=n("KHd+"),u=Object(r.a)(o,function(){var t,e=this,n=e.$createElement,i=e._self._c||n;return i("div",{staticClass:"columns"},[i("div",{staticClass:"column"},[i("div",{staticClass:"field"},[e._m(0),e._v(" "),i("div",{staticClass:"control"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"content"}],staticClass:"textarea",attrs:{required:e.required},domProps:{value:e.content},on:{input:function(t){t.target.composing||(e.content=t.target.value)}}})])])]),e._v(" "),i("div",{staticClass:"column"},[i("div",{staticClass:"field"},[i("label",{staticClass:"label"},[e._v(e._s(void 0!==e.forAnnouncements?"WordPress":"Content")+" Preview")]),e._v(" "),i("div",{staticClass:"control"},[void 0!==e.forAnnouncements?i("div",{staticClass:"content markdown-editor-preview-announcements"},[i("div",{class:(t={notice:!0},t["notice-"+e.announcementType]=!0,t)},[e._m(1),e._v(" "),i("div",{domProps:{innerHTML:e._s(e.markdownHtml)}})])]):i("div",{staticClass:"content markdown-editor-preview",domProps:{innerHTML:e._s(e.markdownHtml)}})])])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"label"},[this._v("Content Â "),e("span",{staticClass:"is-size-7 has-text-grey has-text-weight-normal"},[this._v("Markdown supported")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",[this._v("\n                                Announcement Title\n                                "),e("span",{staticStyle:{color:"#8d8d8d","font-weight":"normal","font-size":"10px"}},[this._v("\n                                    by Your Plugin Name on 02/02/2018 at 10:21 AM\n                                ")])])}],!1,null,null,null).exports,c=n("1gSD"),l={props:["disabled","value","multiple"],data:function(){return{val:this.value,focusedInput:!1,focusedSelect:!1}},watch:{val:function(t){this.$emit("input",t)}},computed:{plugins:function(){return this.$store.state.plugins},dropdownVisible:function(){return void 0===this.multiple||void 0!==this.multiple&&(this.focusedInput||this.focusedSelect)},inputValue:function(){var t=this;return this.val.map(function(e){return t.plugins[e].name})}}};var f={data:function(){return{title:"",type:"default",packages:[],content:""}},computed:{typeInputClassName:function(){return t={"select is-fullwidth":!0},e=Object(c.a)(this.type),n=!0,e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t;var t,e,n}},methods:{forceSubmit:function(){this.$refs.submitButton.click()},save:function(){var t=this;this.$emit("save",{title:this.title,type:this.type,packages:this.packages.map(function(e){return t.$store.state.plugins[e].id}),content:this.content})}},components:{"markdown-editor":u,"plugin-select":Object(r.a)(l,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{"select is-fullwidth package-select":!0,"is-multiple":void 0!==t.multiple}},[void 0!==t.multiple?n("div",{staticClass:"field is-fullwidth"},[n("p",{staticClass:"control has-icons-right"},[n("input",{staticClass:"input package-select-input",attrs:{required:"",readonly:""},domProps:{value:t.inputValue},on:{focus:function(e){t.focusedInput=!0},blur:function(e){t.focusedInput=!1}}}),t._v(" "),t._m(0)])]):t._e(),t._v(" "),n("div",{style:t.dropdownVisible?"":"opacity: 0;height: 0;"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.val,expression:"val"}],class:{"package-select-multiple":void 0!==t.multiple},attrs:{required:"",disabled:t.disabled,multiple:t.multiple},on:{focus:function(e){t.focusedSelect=!0},blur:function(e){t.focusedSelect=!1},change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.val=e.target.multiple?n:n[0]}}},t._l(t.plugins,function(e){return n("option",{domProps:{value:e.slug}},[t._v(t._s(e.name))])}),0)])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small is-right"},[e("i",{staticClass:"fas fa-chevron-down"})])}],!1,null,null,null).exports}},v=Object(r.a)(f,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("form",{on:{submit:function(e){return e.preventDefault(),t.save(e)}}},[n("div",{staticClass:"columns"},[n("div",{staticClass:"column"},[n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Title")]),t._v(" "),n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"input",attrs:{placeholder:"Announcement Title",type:"text",required:""},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})])])]),t._v(" "),n("div",{staticClass:"column"},[n("div",{staticClass:"columns"},[n("div",{staticClass:"column"},[n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Type")]),t._v(" "),n("div",{class:t.typeInputClassName},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],attrs:{required:""},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.type=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"default",selected:""}},[t._v("Default")]),t._v(" "),n("option",{attrs:{value:"info"}},[t._v("Info")]),t._v(" "),n("option",{attrs:{value:"success"}},[t._v("Success")]),t._v(" "),n("option",{attrs:{value:"warning"}},[t._v("Warning")]),t._v(" "),n("option",{attrs:{value:"error"}},[t._v("Error")])])])])]),t._v(" "),n("div",{staticClass:"column"},[n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Packages (multiple)")]),t._v(" "),n("plugin-select",{attrs:{multiple:""},model:{value:t.packages,callback:function(e){t.packages=e},expression:"packages"}})],1)])])])]),t._v(" "),n("markdown-editor",{attrs:{required:"","for-announcements":"","announcement-type":t.type},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),t._v(" "),n("div",{staticClass:"field"},[n("button",{ref:"submitButton",staticClass:"button is-info",attrs:{type:"submit"}},[t._v("Post Announcement")])])],1)])},[],!1,null,null,null).exports,d=n("9obY"),p={data:function(){return{loading:!0}},methods:{fetchAnnouncements:function(){},forceEditorSave:function(){this.$refs.announcementEditor.forceSubmit()},saveNewAnnouncement:function(t){var e=this;this.loading=!0,Object(d.k)(t).then(function(n){console.log(n),e.loading=!1,e.$store.dispatch("pushNotification",{message:'The announcement "'.concat(t.title,'" was successfully posted!'),type:"is-success",duration:2e3}),e.$router.push("/announcements")}).catch(function(t){console.log(t),e.loading=!1,e.$store.dispatch("pushNotification",{message:"Could not post announcement for unknown reasons.",type:"is-danger",duration:2e3})})}},components:{"announcement-editor":v}},m=Object(r.a)(p,function(){var t=this.$createElement,e=this._self._c||t;return e("wpls-page",{attrs:{title:"Create Announcement",back:"/announcements"}},[e("template",{slot:"level-right"},[e("div",{staticClass:"level-item"},[e("button",{staticClass:"button is-info",on:{click:this.forceEditorSave}},[this._v("Post Announcement")])])]),this._v(" "),e("announcement-editor",{ref:"announcementEditor",attrs:{new:""},on:{save:this.saveNewAnnouncement}})],2)},[],!1,null,null,null);e.default=m.exports}}]);