(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"1gSD":function(t,e,n){"use strict";function i(t){var e=t+1;return e<10?"0"+String(e):String(e)}function s(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=n.length,s=0;s<t;s++)e+=n.charAt(Math.floor(Math.random()*i));return e}function o(t){switch(t){case"info":return"is-primary";case"success":return"is-success";case"warning":return"is-warning";case"error":return"is-danger";case"default":default:return"is-white"}}var a=function(t,e){for(var n,i=e,s=t-2,o=t+2+1,a=[],r=[],l=1;l<=i;l++)(1==l||l==i||l>=s&&l<o)&&a.push(l);for(var c=0,u=a;c<u.length;c++){var v=u[c];n&&(v-n==2?r.push(n+1):v-n!=1&&r.push("...")),r.push(v),n=v}return r};var r=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";try{return e.replace("[",n).replace("]","").split(n).reduce(function(t,e){return t[e]},t)}catch(t){return}};n.d(e,"b",function(){return i}),n.d(e,"c",function(){return s}),n.d(e,"a",function(){return o}),n.d(e,"e",function(){return a}),n.d(e,"d",function(){return r})},"9/5/":function(t,e){var n="Expected a function",i=NaN,s="[object Symbol]",o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt,u="object"==typeof global&&global&&global.Object===Object&&global,v="object"==typeof self&&self&&self.Object===Object&&self,d=u||v||Function("return this")(),f=Object.prototype.toString,p=Math.max,m=Math.min,h=function(){return d.Date.now()};function g(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function b(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&f.call(t)==s}(t))return i;if(g(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=g(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(o,"");var n=r.test(t);return n||l.test(t)?c(t.slice(2),n?2:8):a.test(t)?i:+t}t.exports=function(t,e,i){var s,o,a,r,l,c,u=0,v=!1,d=!1,f=!0;if("function"!=typeof t)throw new TypeError(n);function _(e){var n=s,i=o;return s=o=void 0,u=e,r=t.apply(i,n)}function w(t){var n=t-c;return void 0===c||n>=e||n<0||d&&t-u>=a}function y(){var t=h();if(w(t))return C(t);l=setTimeout(y,function(t){var n=e-(t-c);return d?m(n,a-(t-u)):n}(t))}function C(t){return l=void 0,f&&s?_(t):(s=o=void 0,r)}function k(){var t=h(),n=w(t);if(s=arguments,o=this,c=t,n){if(void 0===l)return function(t){return u=t,l=setTimeout(y,e),v?_(t):r}(c);if(d)return l=setTimeout(y,e),_(c)}return void 0===l&&(l=setTimeout(y,e)),r}return e=b(e)||0,g(i)&&(v=!!i.leading,a=(d="maxWait"in i)?p(b(i.maxWait)||0,e):a,f="trailing"in i?!!i.trailing:f),k.cancel=function(){void 0!==l&&clearTimeout(l),u=0,s=c=o=l=void 0},k.flush=function(){return void 0===l?r:C(h())},k}},N7BD:function(t,e,n){"use strict";n.r(e);var i=n("DlQD"),s=n.n(i),o=n("9/5/"),a={props:["value","required","forAnnouncements","announcementType"],data:function(){return{content:"",markdownHtml:""}},watch:{content:n.n(o)()(function(){this.markdownHtml=s()(this.content),this.$emit("input",this.content)},10)}},r=n("KHd+"),l=Object(r.a)(a,function(){var t,e=this,n=e.$createElement,i=e._self._c||n;return i("div",{staticClass:"columns"},[i("div",{staticClass:"column"},[i("div",{staticClass:"field"},[e._m(0),e._v(" "),i("div",{staticClass:"control"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"content"}],staticClass:"textarea",attrs:{required:e.required},domProps:{value:e.content},on:{input:function(t){t.target.composing||(e.content=t.target.value)}}})])])]),e._v(" "),i("div",{staticClass:"column"},[i("div",{staticClass:"field"},[i("label",{staticClass:"label"},[e._v(e._s(void 0!==e.forAnnouncements?"WordPress":"Content")+" Preview")]),e._v(" "),i("div",{staticClass:"control"},[void 0!==e.forAnnouncements?i("div",{staticClass:"content markdown-editor-preview-announcements"},[i("div",{class:(t={notice:!0},t["notice-"+e.announcementType]=!0,t)},[e._m(1),e._v(" "),i("div",{domProps:{innerHTML:e._s(e.markdownHtml)}})])]):i("div",{staticClass:"content markdown-editor-preview",domProps:{innerHTML:e._s(e.markdownHtml)}})])])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"label"},[this._v("Content Â "),e("span",{staticClass:"is-size-7 has-text-grey has-text-weight-normal"},[this._v("Markdown supported")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",[this._v("\n                                Announcement Title\n                                "),e("span",{staticStyle:{color:"#8d8d8d","font-weight":"normal","font-size":"10px"}},[this._v("\n                                    by Your Plugin Name on 02/02/2018 at 10:21 AM\n                                ")])])}],!1,null,null,null).exports,c=n("1gSD"),u={props:["disabled","value","multiple"],data:function(){return{val:this.value,focusedInput:!1,focusedSelect:!1}},watch:{val:function(t){this.$emit("input",t)}},computed:{plugins:function(){return this.$store.state.plugins},dropdownVisible:function(){return void 0===this.multiple||void 0!==this.multiple&&(this.focusedInput||this.focusedSelect)},inputValue:function(){var t=this;return this.val.map(function(e){return t.plugins[e].name})}},components:{IconChevronDown:Object(r.a)({},function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"}},[e("path",{attrs:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"}})])},[],!1,null,null,null).exports}};var v={data:function(){return{title:"",type:"default",packages:[],content:""}},computed:{typeInputClassName:function(){return t={"select is-fullwidth":!0},e=Object(c.a)(this.type),n=!0,e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t;var t,e,n}},methods:{forceSubmit:function(){this.$refs.submitButton.click()},save:function(){var t=this;this.$emit("save",{title:this.title,type:this.type,packages:this.packages.map(function(e){return t.$store.state.plugins[e].id}),content:this.content})}},components:{"markdown-editor":l,"plugin-select":Object(r.a)(u,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{"select is-fullwidth package-select":!0,"is-multiple":void 0!==t.multiple}},[void 0!==t.multiple?n("div",{staticClass:"field is-fullwidth"},[n("p",{staticClass:"control has-icons-right"},[n("input",{staticClass:"input package-select-input",attrs:{required:"",readonly:""},domProps:{value:t.inputValue},on:{focus:function(e){t.focusedInput=!0},blur:function(e){t.focusedInput=!1}}}),t._v(" "),n("span",{staticClass:"icon is-small is-right"},[n("icon-chevron-down",{staticClass:"fa-icon"})],1)])]):t._e(),t._v(" "),n("div",{style:t.dropdownVisible?"":"opacity: 0;height: 0;"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.val,expression:"val"}],class:{"package-select-multiple":void 0!==t.multiple},attrs:{required:"",disabled:t.disabled,multiple:t.multiple},on:{focus:function(e){t.focusedSelect=!0},blur:function(e){t.focusedSelect=!1},change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.val=e.target.multiple?n:n[0]}}},t._l(t.plugins,function(e){return n("option",{domProps:{value:e.slug}},[t._v(t._s(e.name))])}),0)])])},[],!1,null,null,null).exports}},d=Object(r.a)(v,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("form",{on:{submit:function(e){return e.preventDefault(),t.save(e)}}},[n("div",{staticClass:"columns"},[n("div",{staticClass:"column"},[n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Title")]),t._v(" "),n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"input",attrs:{placeholder:"Announcement Title",type:"text",required:""},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})])])]),t._v(" "),n("div",{staticClass:"column"},[n("div",{staticClass:"columns"},[n("div",{staticClass:"column"},[n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Type")]),t._v(" "),n("div",{class:t.typeInputClassName},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],attrs:{required:""},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.type=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"default",selected:""}},[t._v("Default")]),t._v(" "),n("option",{attrs:{value:"info"}},[t._v("Info")]),t._v(" "),n("option",{attrs:{value:"success"}},[t._v("Success")]),t._v(" "),n("option",{attrs:{value:"warning"}},[t._v("Warning")]),t._v(" "),n("option",{attrs:{value:"error"}},[t._v("Error")])])])])]),t._v(" "),n("div",{staticClass:"column"},[n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Packages (multiple)")]),t._v(" "),n("plugin-select",{attrs:{multiple:""},model:{value:t.packages,callback:function(e){t.packages=e},expression:"packages"}})],1)])])])]),t._v(" "),n("markdown-editor",{attrs:{required:"","for-announcements":"","announcement-type":t.type},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),t._v(" "),n("div",{staticClass:"field"},[n("button",{ref:"submitButton",staticClass:"button is-info",attrs:{type:"submit"}},[t._v("Post Announcement")])])],1)])},[],!1,null,null,null).exports,f=n("9obY"),p={data:function(){return{loading:!0}},methods:{fetchAnnouncements:function(){},forceEditorSave:function(){this.$refs.announcementEditor.forceSubmit()},saveNewAnnouncement:function(t){var e=this;this.loading=!0,Object(f.k)(t).then(function(n){console.log(n),e.loading=!1,e.$store.dispatch("pushNotification",{message:'The announcement "'.concat(t.title,'" was successfully posted!'),type:"is-success",duration:2e3}),e.$router.push("/announcements")}).catch(function(t){console.log(t),e.loading=!1,e.$store.dispatch("pushNotification",{message:"Could not post announcement for unknown reasons.",type:"is-danger",duration:2e3})})}},components:{"announcement-editor":d}},m=Object(r.a)(p,function(){var t=this.$createElement,e=this._self._c||t;return e("wpls-page",{attrs:{title:"Create Announcement",back:"/announcements"}},[e("template",{slot:"level-right"},[e("div",{staticClass:"level-item"},[e("button",{staticClass:"button is-info",on:{click:this.forceEditorSave}},[this._v("Post Announcement")])])]),this._v(" "),e("announcement-editor",{ref:"announcementEditor",attrs:{new:""},on:{save:this.saveNewAnnouncement}})],2)},[],!1,null,null,null);e.default=m.exports}}]);